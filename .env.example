# ==============================================================================
# MC Coin Bot — Environment Variables
# ==============================================================================
# Local : 이 파일을 .env로 복사 후 값을 채우세요  →  cp .env.example .env
# Coolify: UI에서 이 변수들을 설정하세요
#
# 범례:
#   [필수]   — 해당 기능 사용 시 반드시 설정
#   [선택]   — 기본값이 있으므로 변경이 필요할 때만 설정
#   주석 처리된 항목 = 기본값으로 동작, 필요 시 주석 해제
# ==============================================================================


# ──────────────────────────────────────────────────────────────────────────────
# 1. API Credentials
# ──────────────────────────────────────────────────────────────────────────────

# [필수] Binance Futures API — 데이터 수집 + 라이브 트레이딩
BINANCE_API_KEY=
BINANCE_SECRET=

# [선택] Etherscan API — ETH supply on-chain 데이터 수집 (무료 tier)
#        https://etherscan.io/myapikey
# ETHERSCAN_API_KEY=

# [선택] FRED API — 거시경제 데이터 (DXY, Gold, Bond Yields, VIX, M2)
#        https://fred.stlouisfed.org/docs/api/api_key.html
# FRED_API_KEY=


# ──────────────────────────────────────────────────────────────────────────────
# 2. Deployment / Execution  (MC_ prefix)
# ──────────────────────────────────────────────────────────────────────────────

# [필수] 실행 모드: paper (시뮬) | shadow (시그널만) | live (실거래)
MC_EXECUTION_MODE=paper

# [선택] YAML 설정 파일 경로
# MC_CONFIG_PATH=config/paper.yaml

# [선택] 초기 자본 (USD)
# MC_INITIAL_CAPITAL=10000.0

# [선택] SQLite DB 경로 (빈 문자열 = 비활성)
# MC_DB_PATH=data/trading.db

# [선택] 상태 영속화 on/off
# MC_ENABLE_PERSISTENCE=true

# [선택] Prometheus metrics HTTP 포트 (0 = 비활성)
# MC_METRICS_PORT=8000

# [선택] OpenTelemetry 트레이싱 엔드포인트 (미설정 = 비활성)
# MC_OTEL_ENDPOINT=http://localhost:4317


# ──────────────────────────────────────────────────────────────────────────────
# 3. Discord Notifications  (DISCORD_ prefix)
# ──────────────────────────────────────────────────────────────────────────────
# Bot 모드 (권장): 양방향 명령 (/status /kill /balance) + 알림
# Webhook 모드 (fallback): 단방향 알림만

# --- Bot 설정 [필수 — 라이브 운영 시] ---
# DISCORD_BOT_TOKEN=
# DISCORD_GUILD_ID=

# --- 채널 ID [선택 — Bot 모드에서 채널별 라우팅] ---
# DISCORD_TRADE_LOG_CHANNEL_ID=       # 거래 체결 알림
# DISCORD_ALERTS_CHANNEL_ID=          # 리스크/CircuitBreaker 알림
# DISCORD_DAILY_REPORT_CHANNEL_ID=    # 일일 성과 보고서
# DISCORD_HEARTBEAT_CHANNEL_ID=       # Heartbeat / 시스템 상태
# DISCORD_REGIME_CHANNEL_ID=          # Market Regime 변경 알림

# --- Webhook URL [선택 — Bot 없이 단방향 알림 시] ---
# DISCORD_TRADE_WEBHOOK_URL=
# DISCORD_ERROR_WEBHOOK_URL=
# DISCORD_REPORT_WEBHOOK_URL=


# ──────────────────────────────────────────────────────────────────────────────
# 4. Data Directories  (Medallion Architecture)
# ──────────────────────────────────────────────────────────────────────────────
# 모두 기본값이 있으므로 커스텀 경로가 필요할 때만 설정

# OHLCV + Derivatives
# BRONZE_DIR=data/bronze               # 원본 (Bronze)
# SILVER_DIR=data/silver               # 정제 (Silver)

# On-chain (DeFiLlama, CoinMetrics, Fear&Greed 등)
# ONCHAIN_BRONZE_DIR=data/bronze/onchain
# ONCHAIN_SILVER_DIR=data/silver/onchain

# Macro (FRED — DXY, Gold, Bond Yields, VIX, M2)
# MACRO_BRONZE_DIR=data/bronze/macro
# MACRO_SILVER_DIR=data/silver/macro


# ──────────────────────────────────────────────────────────────────────────────
# 5. Logging  (LOG_ prefix)
# ──────────────────────────────────────────────────────────────────────────────

# [선택] 로그 디렉토리
# LOG_DIR=logs

# [선택] 로그 레벨: DEBUG | INFO | WARNING | ERROR | CRITICAL
# LOG_CONSOLE_LEVEL=INFO
# LOG_FILE_LEVEL=DEBUG

# [선택] 로그 포맷 — JSON 직렬화 (프로덕션 권장)
# LOG_JSON_LOGS=true

# [선택] 로그 로테이션
# LOG_ROTATION=50 MB                   # 파일 크기 또는 시간 (예: "00:00")
# LOG_RETENTION=7 days                 # 보관 기간
# LOG_COMPRESSION=gz                   # 압축 포맷 (gz | bz2 | xz)

# [선택] 비동기 로그 큐
# LOG_BOUNDED_QUEUE_SIZE=10000         # 큐 크기
# LOG_DROP_POLICY=oldest               # 오버플로우 시 정책 (oldest | newest)

# [선택] 디버깅
# LOG_DIAGNOSE=false                   # 변수 검사 (보안상 프로덕션 비활성)
# LOG_BACKTRACE=true                   # 전체 스택 트레이스

# [선택] Discord 로그 (시스템 에러 알림용)
# LOG_ENABLE_DISCORD=false
# LOG_DISCORD_WEBHOOK_URL=             # Deprecated: DISCORD_ERROR_WEBHOOK_URL 사용 권장
# LOG_DISCORD_MIN_LEVEL=ERROR


# ──────────────────────────────────────────────────────────────────────────────
# 6. API Tuning  (고급 — 일반적으로 변경 불필요)
# ──────────────────────────────────────────────────────────────────────────────

# Binance API 제한
# RATE_LIMIT_PER_MINUTE=1200           # 분당 최대 요청 수 (Binance 기본 한도)
# REQUEST_TIMEOUT=30                   # 요청 타임아웃 (초)

# 재시도 정책 (지수 백오프)
# MAX_RETRIES=5                        # 최대 재시도 횟수 (1~10)
# BACKOFF_BASE=2.0                     # 백오프 기준값 (1.0~5.0)
# BACKOFF_MAX=60.0                     # 최대 대기 시간 (초, >=10)

# 데이터 수집
# BATCH_SIZE=1000                      # 배치당 캔들 수 (100~1500)
# DEFAULT_TIMEFRAME=1m                 # 기본 타임프레임
