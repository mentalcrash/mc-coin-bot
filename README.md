# π€ MC Coin Bot - 2026 Crypto Quant Trading System

> **μ•”νΈν™”ν ν€€νΈ μλ™λ§¤λ§¤ μ‹μ¤ν…**
>
> Event-Driven Architecture κΈ°λ°μ μ•μ •μ μ΄κ³  ν™•μ¥ κ°€λ¥ν• μλ™λ§¤λ§¤ λ΄‡

---

## π“‹ λ©μ°¨

1. [ν”„λ΅μ νΈ κ°μ”](#1-ν”„λ΅μ νΈ-κ°μ”)
2. [ν•µμ‹¬ μ„¤κ³„ μ² ν•™](#2-ν•µμ‹¬-μ„¤κ³„-μ² ν•™)
3. [μ‹μ¤ν… μ•„ν‚¤ν…μ²](#3-μ‹μ¤ν…-μ•„ν‚¤ν…μ²)
4. [λ°μ΄ν„° νμ΄ν”„λΌμΈ](#4-λ°μ΄ν„°-νμ΄ν”„λΌμΈ)
5. [μ „λµ μ—”μ§„](#5-μ „λµ-μ—”μ§„)
6. [μ‹¤ν–‰ μ‹μ¤ν…](#6-μ‹¤ν–‰-μ‹μ¤ν…-pmrmoms)
7. [μΈν”„λΌ λ° μ΄μ](#7-μΈν”„λΌ-λ°-μ΄μ)
8. [κ°λ° μ›ν¬ν”λ΅μ°](#8-κ°λ°-μ›ν¬ν”λ΅μ°)
9. [λ³΄μ• λ° λ¦¬μ¤ν¬ κ΄€λ¦¬](#9-λ³΄μ•-λ°-λ¦¬μ¤ν¬-κ΄€λ¦¬)
10. [κ°λ° λ΅λ“λ§µ](#10-κ°λ°-λ΅λ“λ§µ)

---

## 1. ν”„λ΅μ νΈ κ°μ”

### 1.1 λΉ„μ „

κ²€μ¦λ ν€€νΈ μ „λµμ„ κΈ°λ°μΌλ΅, κ°μ •μ— ν”λ“¤λ¦¬μ§€ μ•λ” μ²΄κ³„μ μΈ μ•”νΈν™”ν μλ™λ§¤λ§¤ μ‹μ¤ν…μ„ κµ¬μ¶•ν•©λ‹λ‹¤.

### 1.2 ν•µμ‹¬ λ©ν‘

| λ©ν‘ | μ„¤λ… |
|------|------|
| **μ•μ •μ„±** | 24/7 λ¬΄μ¤‘λ‹¨ μ΄μ, μλ™ λ³µκµ¬ λ©”μ»¤λ‹μ¦ |
| **μμµμ„±** | λ°±ν…μ¤νΈλ΅ κ²€μ¦λ μ „λµλ§ μ‹¤μ „ ν¬μ… |
| **ν™•μ¥μ„±** | μƒλ΅μ΄ μ „λµ/κ±°λμ† μ¶”κ°€ μ©μ΄ |
| **ν¬λ…μ„±** | λ¨λ“  κ±°λ κΈ°λ΅ λ° μμ‚¬κ²°μ • λ΅κΉ… |

### 1.3 μ£Όμ” κΈ°λ¥

- μ‹¤μ‹κ°„ μ‹μ¥ λ°μ΄ν„° μμ§‘ λ° λ¶„μ„
- λ‹¤μ¤‘ μ „λµ λ™μ‹ μ΄μ μ§€μ›
- ν¬νΈν΄λ¦¬μ¤ λ λ²¨ λ¦¬μ¤ν¬ κ΄€λ¦¬
- λ°±ν…μ¤ν… λ° μ „λµ μµμ ν™” λ„κµ¬
- μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§ λ° μ•λ¦Ό

---

## 2. ν•µμ‹¬ μ„¤κ³„ μ² ν•™

### 2.1 Event-Driven Architecture (EDA)

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     Event      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     Event      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  Data Feed  β”‚ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚  Strategy   β”‚ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚  Executor   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    (MarketData) β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    (Signal)    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                                                                      β”‚
                                                               Event (Order)
                                                                      β–Ό
                                                               β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                                                               β”‚   Exchange  β”‚
                                                               β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**μ›μΉ™:**
- λ¨λ“  μ»΄ν¬λ„νΈλ” **μ΄λ²¤νΈ(Event)**λ¥Ό ν†µν•΄ λμ¨ν•κ² μ—°κ²°
- μ»΄ν¬λ„νΈ κ°„ μ§μ ‘ νΈμ¶ κΈμ§€ β†’ EventBusλ¥Ό ν†µν• ν†µμ‹ 
- μ΄λ²¤νΈ νƒ€μ…: `MarketData`, `Signal`, `Order`, `Fill`, `Error`, `Heartbeat`

**μ¥μ :**
- μ»΄ν¬λ„νΈ λ…λ¦½μ  ν…μ¤νΈ κ°€λ¥
- μ¥μ•  κ²©λ¦¬ (ν• μ»΄ν¬λ„νΈ μ¤λ¥κ°€ μ „μ²΄ μ‹μ¤ν…μ— μ „νλμ§€ μ•μ)
- μƒλ΅μ΄ κΈ°λ¥ μ¶”κ°€ μ‹ κΈ°μ΅΄ μ½”λ“ μμ • μµμ†ν™”

### 2.2 Stateless Strategy / Stateful Execution

| κµ¬λ¶„ | Strategy Engine | Execution System |
|------|-----------------|------------------|
| **μƒνƒ** | Stateless | Stateful |
| **μ±…μ„** | λ°μ΄ν„° β†’ μ‹ νΈ(Signal) μƒμ„± | μμ‚°/λ¦¬μ¤ν¬ κ΄€λ¦¬, μ£Όλ¬Έ μ§‘ν–‰ |
| **μ•μ•„μ•Ό ν•  κ²ƒ** | OHLCV, μ§€ν‘ | μ”κ³ , ν¬μ§€μ…, μ£Όλ¬Έ μƒνƒ |
| **λ°λΌλ„ λλ” κ²ƒ** | ν„μ¬ μμ‚°, ν¬μ§€μ… | μ „λµ λ΅μ§ |

**μ΄μ :**
- μ „λµ μ½”λ“μ μ¬μ‚¬μ©μ„± κ·Ήλ€ν™” (λ°±ν…μ¤νΈ β†” μ‹¤μ „ λ™μΌ μ½”λ“)
- κ΄€μ‹¬μ‚¬ λ¶„λ¦¬λ΅ μ μ§€λ³΄μ μ©μ΄
- μ „λµ λ΅μ§μ μμμ„± λ³΄μ¥ (Side Effect μ—†μ)

### 2.3 Safety First - PM/RM λ¶„λ¦¬ λ¨λΈ

```
Signal β†’ [PM: λΉ„μ¤‘ κ²°μ •] β†’ [RM: μ„ν— κ²€μ¦] β†’ [OMS: μ£Όλ¬Έ μ§‘ν–‰]
              β†“                   β†“
         "μ–Όλ§λ‚ μ‚΄κΉ?"      "μ΄κ±° ν•΄λ„ λ κΉ?"
```

**ν—¤μ§€ν€λ“ μ¤νƒ€μΌ 3λ‹¨ λ°©μ–΄μ„ :**
1. **PM (Portfolio Manager):** μκΈ λ°°λ¶„ κ²°μ •
2. **RM (Risk Manager):** μµν›„μ λ°©μ–΄μ„ , μ„ν— κ±°λ¶€κ¶
3. **OMS (Order Management System):** μ•μ „ν• μ£Όλ¬Έ μ§‘ν–‰

---

## 3. μ‹μ¤ν… μ•„ν‚¤ν…μ²

### 3.1 μ „μ²΄ κµ¬μ΅°λ„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                              MC Coin Bot System                              β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                                              β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”‚
β”‚  β”‚                         EVENT BUS (Core)                            β”‚    β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”          β”‚    β”‚
β”‚  β”‚  β”‚MarketDataβ”‚  Signal  β”‚  Order   β”‚   Fill   β”‚  Error   β”‚          β”‚    β”‚
β”‚  β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”          β”‚    β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”‚
β”‚         β–²              β–²              β–²              β–²                      β”‚
β”‚         β”‚              β”‚              β”‚              β”‚                      β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β” β”β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”                β”‚
β”‚  β”‚ Data Feed   β”‚ β”‚ Strategy  β”‚ β”‚ Portfolio β”‚ β”‚   Risk    β”‚                β”‚
β”‚  β”‚   Manager   β”‚ β”‚  Engine   β”‚ β”‚  Manager  β”‚ β”‚  Manager  β”‚                β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β” β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β””β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β” β””β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”                β”‚
β”‚         β”‚                            β”‚             β”‚                       β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”              β”β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”                β”‚
β”‚  β”‚  Exchange   β”‚              β”‚         OMS (Order        β”‚                β”‚
β”‚  β”‚  Connector  β”‚β—€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚   Management System)      β”‚                β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”              β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”                β”‚
β”‚         β”‚                                                                   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
          β”‚
          β–Ό
   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
   β”‚   Binance    β”‚
   β”‚   Exchange   β”‚
   β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### 3.2 μ»΄ν¬λ„νΈ μƒμ„Έ

| μ»΄ν¬λ„νΈ | μ±…μ„ | μ…λ ¥ μ΄λ²¤νΈ | μ¶λ ¥ μ΄λ²¤νΈ |
|----------|------|------------|-------------|
| **Data Feed Manager** | μ‹μ¥ λ°μ΄ν„° μμ§‘/μ •μ  | - | `MarketData` |
| **Strategy Engine** | μ‹ νΈ μƒμ„± | `MarketData` | `Signal` |
| **Portfolio Manager** | ν¬μ§€μ… μ‚¬μ΄μ§• | `Signal` | `OrderRequest` |
| **Risk Manager** | μ„ν— κ²€μ¦/κ±°λ¶€ | `OrderRequest` | `Order` or `Reject` |
| **OMS** | μ£Όλ¬Έ μ§‘ν–‰/μ¶”μ  | `Order` | `Fill`, `Error` |
| **Exchange Connector** | κ±°λμ† ν†µμ‹  | - | - |

### 3.3 μ΄λ²¤νΈ νλ¦„ μμ‹

```
[μ‹λ‚λ¦¬μ¤: BTC λ§¤μ μ‹ νΈ λ°μƒ μ‹]

1. WebSocketμ—μ„ BTC 1λ¶„λ΄‰ μμ‹ 
2. DataFeed β†’ EventBus.emit(MarketData)
3. Strategy.on_market_data() β†’ κ³¨λ“ ν¬λ΅μ¤ κ°μ§€
4. Strategy β†’ EventBus.emit(Signal: BUY BTC)
5. PM.on_signal() β†’ μκΈμ 10% λ°°λ¶„ κ²°μ •
6. PM β†’ EventBus.emit(OrderRequest: BUY 0.5 BTC)
7. RM.on_order_request() β†’ μΌμΌ μ†μ‹¤ ν•λ„ μ²΄ν¬ PASS
8. RM β†’ EventBus.emit(Order: BUY 0.5 BTC @ MARKET)
9. OMS.on_order() β†’ κ±°λμ†μ— μ£Όλ¬Έ μ „μ†΅
10. Exchange β†’ Fill μμ‹ 
11. OMS β†’ EventBus.emit(Fill: 0.5 BTC @ 65000)
12. PM.on_fill() β†’ ν¬μ§€μ… μ—…λ°μ΄νΈ
```

---

## 4. λ°μ΄ν„° νμ΄ν”„λΌμΈ

### 4.1 λ°μ΄ν„° μμ§‘ μ „λµ

#### Hybrid Approach

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                     Data Collection                          β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚      REST API            β”‚         WebSocket                 β”‚
β”‚   (Warm-up/Recovery)     β”‚      (Real-time Main)            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ β€Ά λ΄‡ μ‹μ‘ μ‹ κ³Όκ±° λ°μ΄ν„°   β”‚ β€Ά μ‹¤μ‹κ°„ μΊ”λ“¤ μ¤νΈλ¦Ό             β”‚
β”‚ β€Ά μ¬μ ‘μ† μ‹ κ°­ μ±„μ°κΈ°      β”‚ β€Ά User Data Stream (μ”κ³ /μ²΄κ²°)   β”‚
β”‚ β€Ά λ°±ν•„(Backfill) μ‘μ—…     β”‚ β€Ά 24/7 μ—°μ† μμ‹                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

#### Resampling μ „λµ

```python
# 1λ¶„λ΄‰μΌλ΅ μμ§‘ β†’ λ©”λ¨λ¦¬μ—μ„ μƒμ„ νƒ€μ„ν”„λ μ„ ν•©μ„±
1m candles β†’ resample('1h') β†’ 1μ‹κ°„λ΄‰
1m candles β†’ resample('4h') β†’ 4μ‹κ°„λ΄‰
1m candles β†’ resample('1d') β†’ μΌλ΄‰
```

**μ¥μ :**
- μƒμ„ νƒ€μ„ν”„λ μ„ μ™„μ„±μ„ κΈ°λ‹¤λ¦΄ ν•„μ” μ—†μ
- λ°μ΄ν„° μΌκ΄€μ„± λ³΄μ¥
- μ €μ¥ κ³µκ°„ ν¨μ¨μ 

### 4.2 λ°μ΄ν„° μ €μ¥ μ „λµ

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    Storage Architecture                      β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚    HOT Storage          β”‚         COLD Storage              β”‚
β”‚    (SQLite)             β”‚         (Parquet)                 β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ β€Ά μ‹¤μ‹κ°„ μ“°κΈ° μµμ ν™”      β”‚ β€Ά λ€μ©λ‰ μ½κΈ° μµμ ν™”              β”‚
β”‚ β€Ά μµκ·Ό 1~3κ°μ›” λ°μ΄ν„°     β”‚ β€Ά μ „μ²΄ νμ¤ν† λ¦¬                   β”‚
β”‚ β€Ά λΌμ΄λΈ νΈλ μ΄λ”©μ©       β”‚ β€Ά λ°±ν…μ¤ν…/λ¦¬μ„μΉμ©               β”‚
β”‚ β€Ά λΉ λ¥Έ Insert           β”‚ β€Ά μ»¬λΌ μ••μ¶•μΌλ΅ κ³ μ† λ¶„μ„          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

#### SQLite μ¤ν‚¤λ§

```sql
-- Hot Storage: μ‹¤μ‹κ°„ μΊ”λ“¤ λ°μ΄ν„°
CREATE TABLE candles (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    symbol TEXT NOT NULL,
    timeframe TEXT NOT NULL,
    timestamp INTEGER NOT NULL,  -- Unix timestamp (ms)
    open REAL NOT NULL,
    high REAL NOT NULL,
    low REAL NOT NULL,
    close REAL NOT NULL,
    volume REAL NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(symbol, timeframe, timestamp)
);

CREATE INDEX idx_candles_lookup ON candles(symbol, timeframe, timestamp DESC);
```

#### Parquet νμΌ κµ¬μ΅°

```
data/
β””β”€β”€ parquet/
    β”β”€β”€ BTC_USDT/
    β”‚   β”β”€β”€ 2024.parquet
    β”‚   β”β”€β”€ 2025.parquet
    β”‚   β””β”€β”€ 2026.parquet
    β”β”€β”€ ETH_USDT/
    β”‚   β””β”€β”€ ...
    β””β”€β”€ metadata.json  # μΆ…λ©λ³„ λ©”νƒ€μ •λ³΄
```

### 4.3 λ°μ΄ν„° λ¬΄κ²°μ„± λ³΄μ¥

| μ²΄ν¬ ν¬μΈνΈ | κ²€μ¦ λ‚΄μ© | μ²λ¦¬ λ°©λ²• |
|------------|----------|----------|
| **Gap Detection** | λ„λ½λ μΊ”λ“¤ νƒμ§€ | REST APIλ΅ λ°±ν•„ |
| **Duplicate Check** | μ¤‘λ³µ λ°μ΄ν„° λ°©μ§€ | UPSERT μ‚¬μ© |
| **Sequence Validation** | νƒ€μ„μ¤νƒ¬ν”„ μ—°μ†μ„± | μλ™ μ •λ ¬ λ° κ²€μ¦ |
| **Price Sanity** | λΉ„μ •μƒ κ°€κ²© νƒμ§€ | Β±50% μ΄μƒ λ³€λ™ μ‹ κ²½κ³  |

---

## 5. μ „λµ μ—”μ§„

### 5.1 κµ¬ν„ μ›μΉ™

#### Vectorization μ›μΉ™

```python
# β BAD: for λ¬Έ μ‚¬μ© - λλ¦Ό
def calculate_sma_bad(prices, period):
    sma = []
    for i in range(len(prices)):
        if i >= period - 1:
            sma.append(sum(prices[i-period+1:i+1]) / period)
        else:
            sma.append(None)
    return sma

# β… GOOD: Pandas λ²΅ν„° μ—°μ‚° - λΉ λ¦„
def calculate_sma_good(prices: pd.Series, period: int) -> pd.Series:
    return prices.rolling(window=period).mean()
```

#### Shift(1) Rule - λ―Έλ μ°Έμ΅° νΈν–¥ λ°©μ§€

```python
# β BAD: ν„μ¬ λ΄‰ μΆ…κ°€λ΅ μ‹ νΈ μƒμ„± (λ―Έλ μ°Έμ΅°)
df['signal'] = (df['close'] > df['sma_20']).astype(int)

# β… GOOD: μ „λ΄‰ κΈ°μ¤€μΌλ΅ μ‹ νΈ μƒμ„±
df['signal'] = (df['close'].shift(1) > df['sma_20'].shift(1)).astype(int)
```

**μ™ μ¤‘μ”ν•κ°€?**
- λ°±ν…μ¤νΈμ—μ„ ν„μ¬ λ΄‰ μΆ…κ°€λ¥Ό μ• μ μμ§€λ§, μ‹¤μ „μ—μ„λ” λ¶κ°€λ¥
- μ΄ νΈν–¥μ„ λ¬΄μ‹ν•λ©΄ λ°±ν…μ¤νΈ μ„±κ³Όκ°€ κ³Όλ€ν‰κ°€λ¨

### 5.2 μ „λµ μΈν„°νμ΄μ¤

```python
from abc import ABC, abstractmethod
from typing import Optional
import pandas as pd

class BaseStrategy(ABC):
    """λ¨λ“  μ „λµμ΄ κµ¬ν„ν•΄μ•Ό ν•λ” κΈ°λ³Έ μΈν„°νμ΄μ¤"""
    
    @property
    @abstractmethod
    def name(self) -> str:
        """μ „λµ μ΄λ¦„"""
        pass
    
    @property
    @abstractmethod
    def required_timeframes(self) -> list[str]:
        """ν•„μ”ν• νƒ€μ„ν”„λ μ„ λ©λ΅ (μ: ['1m', '1h', '4h'])"""
        pass
    
    @abstractmethod
    def calculate_indicators(self, df: pd.DataFrame) -> pd.DataFrame:
        """μ§€ν‘ κ³„μ‚° - pandas-ta μ‚¬μ©"""
        pass
    
    @abstractmethod
    def generate_signals(self, df: pd.DataFrame) -> pd.Series:
        """
        μ‹ νΈ μƒμ„±
        Returns: Series with values in {-1, 0, 1}
            -1: SELL
             0: HOLD
             1: BUY
        """
        pass
```

### 5.3 μ—°κµ¬ λ° λ°±ν…μ¤ν…

#### μ—°κµ¬ λ„κµ¬

| λ„κµ¬ | μ©λ„ | νΉμ§• |
|------|------|------|
| **vectorbt** | κ³ μ† λ°±ν…μ¤ν… | NumPy κΈ°λ°, λ³‘λ ¬ μ—°μ‚° |
| **Optuna** | νλΌλ―Έν„° μµμ ν™” | TPE μ•κ³ λ¦¬μ¦, μ΅°κΈ° μ¤‘λ‹¨ |
| **pandas-ta** | κΈ°μ μ  μ§€ν‘ | 130+ μ§€ν‘ ν‘μ¤€ν™” |

#### Walk-Forward Analysis (WFA)

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    Walk-Forward Analysis                            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                                     β”‚
β”‚  [====Train====][Test]                                              β”‚
β”‚            [====Train====][Test]                                    β”‚
β”‚                      [====Train====][Test]                          β”‚
β”‚                                [====Train====][Test]                β”‚
β”‚                                          [====Train====][Test]      β”‚
β”‚                                                                     β”‚
β”‚  β€Ά In-Sample: νλΌλ―Έν„° μµμ ν™”                                        β”‚
β”‚  β€Ά Out-of-Sample: μ‹¤μ  μ„±κ³Ό κ²€μ¦                                     β”‚
β”‚  β€Ά κ³Όμ ν•©(Overfitting) λ°©μ§€μ ν•µμ‹¬                                   β”‚
β”‚                                                                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

#### μƒμ΅΄ νΈν–¥ λ°©μ§€

```python
# β BAD: ν„μ¬ μ‹μ μ μƒμ¥ μΆ…λ©μΌλ΅ κ³Όκ±° ν…μ¤νΈ
symbols = exchange.fetch_tickers().keys()  # 2026λ…„ 1μ›” κΈ°μ¤€

# β… GOOD: κ° μ‹μ μ μƒμ¥ μΆ…λ© λ°μ΄ν„° μ‚¬μ©
def get_universe_at_date(date: datetime) -> list[str]:
    """ν•΄λ‹Ή μ‹μ μ— μ‹¤μ λ΅ κ±°λ κ°€λ¥ν–λ μΆ…λ© λ©λ΅ λ°ν™"""
    return load_historical_listing(date)
```

---

## 6. μ‹¤ν–‰ μ‹μ¤ν… (PM/RM/OMS)

### 6.1 Portfolio Manager (PM)

**μ—­ν• :** μκΈ κ΄€λ¦¬ λ° ν¬μ§€μ… μ‚¬μ΄μ§•

```python
class PortfolioManager:
    """
    μ±…μ„:
    - μ‹ νΈ(Signal)λ¥Ό λ°›μ•„ κµ¬μ²΄μ μΈ μ£Όλ¬Έ μλ‰ κ²°μ •
    - μκΈ λ°°λ¶„ μ „λµ μ μ©
    - ν„μ¬ ν¬νΈν΄λ¦¬μ¤ μƒνƒ κ΄€λ¦¬
    """
    
    def on_signal(self, signal: Signal) -> OrderRequest:
        # 1. ν„μ¬ κ°€μ© μκΈ ν™•μΈ
        available_capital = self.get_available_capital()
        
        # 2. ν¬μ§€μ… μ‚¬μ΄μ§• (μ: μκΈμ 10%)
        position_size = self.calculate_position_size(
            signal=signal,
            capital=available_capital,
            method="percent_of_equity"  # or "fixed", "volatility_adjusted"
        )
        
        # 3. μ£Όλ¬Έ μ”μ²­ μƒμ„±
        return OrderRequest(
            symbol=signal.symbol,
            side=signal.direction,
            quantity=position_size,
            order_type="MARKET"
        )
```

#### Position Sizing λ°©λ²•

| λ°©λ²• | μ„¤λ… | μ‚¬μ© μ‹μ  |
|------|------|----------|
| **Fixed Percent** | μκΈμ κ³ μ • λΉ„μ¨ (μ: 10%) | λ‹¨μ/μ•μ •μ  |
| **Kelly Criterion** | μµμ  λ² ν… λΉ„μ¨ κ³„μ‚° | μν•™μ  μµμ ν™” |
| **Volatility Adjusted** | λ³€λ™μ„±μ— λ”°λΌ λΉ„μ¤‘ μ΅°μ  | ATR κΈ°λ° |
| **Risk Parity** | λ¦¬μ¤ν¬ κ· λ“± λ°°λ¶„ | λ‹¤μ¤‘ μμ‚° |

### 6.2 Risk Manager (RM)

**μ—­ν• :** μµν›„μ λ°©μ–΄μ„ , μ„ν— ν†µμ 

```python
class RiskManager:
    """
    λ¨λ“  μ£Όλ¬Έμ λ§μ§€λ§‰ κ²μ΄νΈν‚¤νΌ
    μ£Όλ¬Έμ΄ RMμ„ ν†µκ³Όν•μ§€ λ»ν•λ©΄ μ λ€ μ‹¤ν–‰λμ§€ μ•μ
    """
    
    def validate_order(self, order_request: OrderRequest) -> ValidationResult:
        checks = [
            self._check_daily_loss_limit,      # μΌμΌ μ†μ‹¤ ν•λ„
            self._check_position_limit,         # λ‹¨μΌ ν¬μ§€μ… ν•λ„
            self._check_order_frequency,        # μ£Όλ¬Έ λΉλ„ μ ν•
            self._check_fat_finger,             # λΉ„μ •μƒ μ£Όλ¬Έ ν¬κΈ°
            self._check_drawdown_limit,         # μµλ€ λ‚™ν­ ν•λ„
        ]
        
        for check in checks:
            result = check(order_request)
            if not result.passed:
                return ValidationResult(
                    approved=False,
                    reason=result.reason
                )
        
        return ValidationResult(approved=True)
```

#### λ¦¬μ¤ν¬ μ²΄ν¬ ν•­λ©

| μ²΄ν¬ ν•­λ© | κΈ°μ¤€ μμ‹ | μ„λ° μ‹ μ΅°μΉ |
|----------|----------|-------------|
| **Daily Loss Limit** | μΌμΌ μ†μ‹¤ 3% μ΄κ³Ό | Kill Switch λ°λ™, λ‹ΉμΌ κ±°λ μ¤‘λ‹¨ |
| **Position Limit** | λ‹¨μΌ μΆ…λ© μκΈμ 20% μ΄κ³Ό | μ£Όλ¬Έ κ±°λ¶€ |
| **Fat Finger** | ν‰κ·  μ£Όλ¬Έμ 10λ°° μ΄κ³Ό | μ£Όλ¬Έ κ±°λ¶€ + μ•λ¦Ό |
| **Order Frequency** | 1λ¶„ λ‚΄ 10ν μ΄κ³Ό | μΏ¨λ‹¤μ΄ μ μ© |
| **Max Drawdown** | MDD 15% μ΄κ³Ό | μ „μ²΄ ν¬μ§€μ… μ²­μ‚° |

### 6.3 Order Management System (OMS)

**μ—­ν• :** μ•μ „ν•κ³  μ‹ λΆ°μ„± μλ” μ£Όλ¬Έ μ§‘ν–‰

```python
class OrderManagementSystem:
    """
    μ±…μ„:
    - κ±°λμ† APIλ¥Ό ν†µν• μ£Όλ¬Έ μ§‘ν–‰
    - μ£Όλ¬Έ μƒνƒ μ¶”μ  λ° λ™κΈ°ν™”
    - μ‹¤ν¨ μ‹ μ¬μ‹λ„ λ΅μ§
    - λ©±λ“±μ„±(Idempotency) λ³΄μ¥
    """
    
    async def execute_order(self, order: Order) -> ExecutionResult:
        # 1. Client Order ID μƒμ„± (λ©±λ“±μ„± λ³΄μ¥)
        client_order_id = self._generate_client_order_id(order)
        
        # 2. Exponential Backoffλ΅ μ¬μ‹λ„
        for attempt in range(self.max_retries):
            try:
                result = await self.exchange.create_order(
                    symbol=order.symbol,
                    type=order.order_type,
                    side=order.side,
                    amount=order.quantity,
                    params={'clientOrderId': client_order_id}
                )
                return ExecutionResult(success=True, data=result)
                
            except RateLimitExceeded:
                await asyncio.sleep(2 ** attempt)  # Exponential backoff
                
            except InsufficientFunds:
                return ExecutionResult(success=False, error="INSUFFICIENT_FUNDS")
        
        return ExecutionResult(success=False, error="MAX_RETRIES_EXCEEDED")
```

#### λ©±λ“±μ„±(Idempotency) λ³΄μ¥

```
λ¬Έμ : λ„¤νΈμ›ν¬ μ¤λ¥λ΅ μ£Όλ¬Έ κ²°κ³Όλ¥Ό λ» λ°›μ β†’ μ¬μ‹λ„ β†’ μ¤‘λ³µ μ£Όλ¬Έ?

ν•΄κ²°: Client Order ID
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  Client Order ID = f"{strategy}_{symbol}_{ts}_{nonce}"  β”‚
β”‚                                                    β”‚
β”‚  κ°™μ€ IDλ΅ μ¬μ”μ²­ μ‹ β†’ κ±°λμ†κ°€ κΈ°μ΅΄ μ£Όλ¬Έ λ°ν™      β”‚
β”‚  (μƒ μ£Όλ¬Έ μƒμ„± X)                                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### 6.4 Local State Synchronization

```python
class StateManager:
    """
    WebSocket User Data Streamμ„ ν†µν• λ΅μ»¬ μƒνƒ λ™κΈ°ν™”
    
    μ¥μ :
    - REST API νΈμ¶ μµμ†ν™” (Rate Limit νν”Ό)
    - μ‹¤μ‹κ°„ μ”κ³ /ν¬μ§€μ… λ°μ
    - λ„¤νΈμ›ν¬ μ§€μ—° μµμ†ν™”
    """
    
    def __init__(self):
        self.balances: dict[str, Decimal] = {}
        self.positions: dict[str, Position] = {}
        self.open_orders: dict[str, Order] = {}
    
    async def on_user_data(self, event: dict):
        match event['e']:
            case 'outboundAccountPosition':
                self._update_balances(event['B'])
            case 'executionReport':
                self._update_order(event)
            case 'balanceUpdate':
                self._update_single_balance(event)
```

---

## 7. μΈν”„λΌ λ° μ΄μ

### 7.1 κΈ°μ  μ¤νƒ

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                      Technology Stack                        β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  Language        β”‚  Python 3.12+                            β”‚
β”‚  Package Manager β”‚  Poetry                                  β”‚
β”‚  Type Checking   β”‚  Pydantic v2 + mypy                      β”‚
β”‚  Async Runtime   β”‚  asyncio + uvloop                        β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  Exchange API    β”‚  ccxt.async_support                      β”‚
β”‚  Data Analysis   β”‚  pandas, numpy                           β”‚
β”‚  Indicators      β”‚  pandas-ta                               β”‚
β”‚  Backtesting     β”‚  vectorbt                                β”‚
β”‚  Optimization    β”‚  Optuna                                  β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  Logging         β”‚  loguru                                  β”‚
β”‚  Config          β”‚  python-dotenv, pydantic-settings        β”‚
β”‚  Database        β”‚  SQLite (aiosqlite), Parquet (pyarrow)   β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  Monitoring      β”‚  Telegraf + InfluxDB + Grafana (TIG)     β”‚
β”‚  Alerting        β”‚  Telegram Bot                            β”‚
β”‚  Deployment      β”‚  Docker + AWS Lightsail                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### 7.2 ν”„λ΅μ νΈ κµ¬μ΅°

```
mc-coin-bot/
β”β”€β”€ README.md                    # μ΄ λ¬Έμ„
β”β”€β”€ pyproject.toml              # Poetry μμ΅΄μ„± κ΄€λ¦¬
β”β”€β”€ .env.example                # ν™κ²½λ³€μ ν…ν”λ¦Ώ
β”β”€β”€ .gitignore
β”‚
β”β”€β”€ src/
β”‚   β”β”€β”€ __init__.py
β”‚   β”‚
β”‚   β”β”€β”€ core/                   # π”µ ν•µμ‹¬ κ³µν†µ λ¨λ“ (Single Source of Truth)
β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”β”€β”€ models.py           # Pydantic λ°μ΄ν„° λ¨λΈ
β”‚   β”‚   β”β”€β”€ events.py           # μ΄λ²¤νΈ νƒ€μ… μ •μ
β”‚   β”‚   β”β”€β”€ strategy.py         # BaseStrategy μΈν„°νμ΄μ¤
β”‚   β”‚   β”β”€β”€ indicators.py       # κΈ°μ μ  μ§€ν‘ λνΌ
β”‚   β”‚   β””β”€β”€ exceptions.py       # μ»¤μ¤ν…€ μμ™Έ
β”‚   β”‚
β”‚   β”β”€β”€ live/                   # πΆ μ‹¤μ „ νΈλ μ΄λ”© λ΄‡
β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”β”€β”€ main.py             # λ΄‡ μ—”νΈλ¦¬ν¬μΈνΈ
β”‚   β”‚   β”β”€β”€ event_bus.py        # μ΄λ²¤νΈ λ²„μ¤ κµ¬ν„
β”‚   β”‚   β”β”€β”€ data_feed.py        # λ°μ΄ν„° μμ§‘κΈ°
β”‚   β”‚   β”β”€β”€ exchange.py         # κ±°λμ† μ»¤λ„¥ν„°
β”‚   β”‚   β”β”€β”€ portfolio_manager.py
β”‚   β”‚   β”β”€β”€ risk_manager.py
β”‚   β”‚   β””β”€β”€ oms.py              # Order Management System
β”‚   β”‚
β”‚   β”β”€β”€ strategies/             # π΅ μ „λµ κµ¬ν„μ²΄
β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”β”€β”€ golden_cross.py
β”‚   β”‚   β”β”€β”€ rsi_divergence.py
β”‚   β”‚   β””β”€β”€ ...
β”‚   β”‚
β”‚   β””β”€β”€ utils/                  # π”· μ ν‹Έλ¦¬ν‹°
β”‚       β”β”€β”€ __init__.py
β”‚       β”β”€β”€ logger.py           # loguru μ„¤μ •
β”‚       β”β”€β”€ config.py           # μ„¤μ • κ΄€λ¦¬
β”‚       β””β”€β”€ helpers.py
β”‚
β”β”€β”€ research/                   # π£ λ¦¬μ„μΉ & λ°±ν…μ¤ν…
β”‚   β”β”€β”€ notebooks/              # Jupyter λ…ΈνΈλ¶
β”‚   β”‚   β”β”€β”€ 01_data_exploration.ipynb
β”‚   β”‚   β”β”€β”€ 02_strategy_backtest.ipynb
β”‚   β”‚   β””β”€β”€ 03_parameter_optimization.ipynb
β”‚   β”β”€β”€ scripts/                # λ¶„μ„ μ¤ν¬λ¦½νΈ
β”‚   β””β”€β”€ results/                # λ°±ν…μ¤νΈ κ²°κ³Ό μ €μ¥
β”‚
β”β”€β”€ data/                       # π“ λ°μ΄ν„° μ €μ¥μ†
β”‚   β”β”€β”€ sqlite/                 # Hot storage
β”‚   β”‚   β””β”€β”€ candles.db
β”‚   β””β”€β”€ parquet/                # Cold storage
β”‚       β””β”€β”€ {SYMBOL}/
β”‚
β”β”€β”€ config/                     # β™οΈ μ„¤μ • νμΌ
β”‚   β”β”€β”€ settings.yaml           # μ „λµ/λ΄‡ μ„¤μ •
β”‚   β””β”€β”€ logging.yaml            # λ΅κΉ… μ„¤μ •
β”‚
β”β”€β”€ tests/                      # π§ ν…μ¤νΈ
β”‚   β”β”€β”€ unit/
β”‚   β”β”€β”€ integration/
β”‚   β””β”€β”€ conftest.py
β”‚
β”β”€β”€ docker/                     # π³ Docker κ΄€λ ¨
β”‚   β”β”€β”€ Dockerfile
β”‚   β””β”€β”€ docker-compose.yml
β”‚
β””β”€β”€ scripts/                    # π› οΈ μ΄μ μ¤ν¬λ¦½νΈ
    β”β”€β”€ setup.sh
    β”β”€β”€ deploy.sh
    β””β”€β”€ backup.sh
```

### 7.3 λ¨λ‹ν„°λ§ μ¤νƒ (TIG)

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    Monitoring Pipeline                       β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                              β”‚
β”‚   Bot Metrics                                                β”‚
β”‚       β”‚                                                      β”‚
β”‚       β–Ό                                                      β”‚
β”‚   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    push     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    query    β”β”€β”€β”€β”€β”€β”€β”β”‚
β”‚   β”‚ Telegraf β”‚ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶ β”‚ InfluxDB β”‚ β—€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€ β”‚Grafanaβ”‚β”‚
β”‚   β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”             β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”             β””β”€β”€β”€β”€β”€β”€β”β”‚
β”‚                                                       β”‚     β”‚
β”‚                                                       β–Ό     β”‚
β”‚                                              Dashboard       β”‚
β”‚                                              & Alerts        β”‚
β”‚                                                              β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

#### ν•µμ‹¬ λ¨λ‹ν„°λ§ μ§€ν‘

| μΉ΄ν…κ³ λ¦¬ | μ§€ν‘ | μ•λ¦Ό μ΅°κ±΄ |
|---------|------|----------|
| **μ‹μ¤ν…** | CPU, Memory, Disk | > 80% |
| **λ΄‡ μƒνƒ** | Heartbeat | 30μ΄ μ΄μƒ μ—†μ |
| **κ±°λ** | Daily PnL | μ†μ‹¤ > 3% |
| **λ°μ΄ν„°** | WebSocket μ—°κ²° μƒνƒ | μ¬μ—°κ²° 3ν μ΄μƒ |
| **μ£Όλ¬Έ** | μ£Όλ¬Έ μ‹¤ν¨μ¨ | > 5% |

---

## 8. κ°λ° μ›ν¬ν”λ΅μ°

### 8.1 μ „μ²΄ νλ¦„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                  Development Workflow                        β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                              β”‚
β”‚  1. IDEA        2. RESEARCH       3. IMPLEMENT               β”‚
β”‚  β”β”€β”€β”€β”€β”€β”       β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”              β”‚
β”‚  β”‚ π’΅  β”‚ β”€β”€β”€β”€β–¶ β”‚vectorbt β”‚ β”€β”€β”€β”€β–¶ β”‚ src/core/ β”‚              β”‚
β”‚  β”‚κ°€μ„¤ β”‚       β”‚λ°±ν…μ¤νΈ  β”‚       β”‚ strategy  β”‚              β”‚
β”‚  β””β”€β”€β”€β”€β”€β”       β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”              β”‚
β”‚                     β”‚                  β”‚                     β”‚
β”‚                     β–Ό                  β–Ό                     β”‚
β”‚              β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚              β”‚ Optuna  β”‚       β”‚   Tests   β”‚               β”‚
β”‚              β”‚μµμ ν™”    β”‚       β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚              β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”              β”‚                     β”‚
β”‚                     β”‚                  β–Ό                     β”‚
β”‚                     β–Ό           4. DEPLOY                   β”‚
β”‚              β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚              β”‚  WFA    β”‚       β”‚  Docker   β”‚               β”‚
β”‚              β”‚μ „μ§„λ¶„μ„  β”‚       β”‚ Lightsail β”‚               β”‚
β”‚              β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚                                       β”‚                     β”‚
β”‚                                       β–Ό                     β”‚
β”‚                                5. MONITOR                   β”‚
β”‚                                β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚                                β”‚  Grafana  β”‚               β”‚
β”‚                                β”‚ Dashboard β”‚               β”‚
β”‚                                β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚                                                              β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### 8.2 λ‹¨κ³„λ³„ μƒμ„Έ

#### Step 1: Idea (μ•„μ΄λ””μ–΄)
- μƒλ΅μ΄ μ „λµ κ°€μ„¤ μλ¦½
- `research/notebooks/`μ— μ•„μ΄λ””μ–΄ λ¬Έμ„ν™”

#### Step 2: Research (μ—°κµ¬)
```bash
# Jupyterμ—μ„ λ°±ν…μ¤ν…
cd research/
jupyter lab

# vectorbtλ΅ λΉ λ¥Έ κ²€μ¦
# Optunaλ΅ νλΌλ―Έν„° μµμ ν™”
# WFAλ΅ κ³Όμ ν•© μ—¬λ¶€ κ²€μ¦
```

#### Step 3: Implement (κµ¬ν„)
```bash
# κ²€μ¦λ μ „λµμ„ ν”„λ΅λ•μ… μ½”λ“λ΅
# src/strategies/μ— μƒ μ „λµ νμΌ μƒμ„±
# src/core/strategy.pyμ BaseStrategy μƒμ†
```

#### Step 4: Deploy (λ°°ν¬)
```bash
# Git Push
git add . && git commit -m "feat: add new strategy"
git push origin main

# AWS Lightsailμ—μ„
ssh lightsail
cd mc-coin-bot
git pull
docker-compose up -d --build
```

#### Step 5: Monitor (λ¨λ‹ν„°λ§)
- Grafana λ€μ‹λ³΄λ“λ΅ μ‹¤μ‹κ°„ μƒνƒ ν™•μΈ
- TelegramμΌλ΅ μ•λ¦Ό μμ‹ 
- μ£ΌκΈ°μ  μ„±κ³Ό λ¦¬λ·°

---

## 9. λ³΄μ• λ° λ¦¬μ¤ν¬ κ΄€λ¦¬

### 9.1 API ν‚¤ κ΄€λ¦¬

```bash
# .env νμΌ (μ λ€ Gitμ— μ»¤λ°‹ν•μ§€ μ•μ)
BINANCE_API_KEY=your_api_key_here
BINANCE_SECRET_KEY=your_secret_key_here

# API ν‚¤ κ¶ν• μ„¤μ • (κ±°λμ†μ—μ„)
β… Enable Spot Trading
β… Enable Reading
β Enable Withdrawals  # μ λ€ λΉ„ν™μ„±ν™”
β Enable Universal Transfer
```

### 9.2 IP ν™”μ΄νΈλ¦¬μ¤νΈ

```
κ±°λμ† API μ„¤μ •μ—μ„:
- λ΄‡μ΄ μ‹¤ν–‰λλ” μ„λ²„ IPλ§ ν—μ©
- μƒ IP μ¶”κ°€ μ‹ 24μ‹κ°„ μ¶κΈ μ ν• (λ°”μ΄λ‚Έμ¤)
```

### 9.3 κΈ΄κΈ‰ λ€μ‘ μ²΄κ³„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                  Emergency Response                          β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                                              β”‚
β”‚  Level 1: μλ™ λ€μ‘ (RM Kill Switch)                         β”‚
β”‚  β”β”€ μΌμΌ μ†μ‹¤ ν•λ„ μ΄κ³Ό β†’ λ‹ΉμΌ κ±°λ μ¤‘λ‹¨                       β”‚
β”‚  β””β”€ MDD ν•λ„ μ΄κ³Ό β†’ μ „ ν¬μ§€μ… μ²­μ‚°                            β”‚
β”‚                                                              β”‚
β”‚  Level 2: μ•λ¦Ό ν›„ μλ™ λ€μ‘                                   β”‚
β”‚  β”β”€ API μ—λ¬ μ—°μ† λ°μƒ β†’ Telegram μ•λ¦Ό                        β”‚
β”‚  β””β”€ λΉ„μ •μƒ κ°€κ²© λ³€λ™ β†’ κ΄€λ¦¬μ ν™•μΈ μ”μ²­                        β”‚
β”‚                                                              β”‚
β”‚  Level 3: μ¦‰μ‹ μλ™ κ°μ…                                     β”‚
β”‚  β”β”€ κ±°λμ† μ κ²€/μ¥μ•  β†’ λ΄‡ μλ™ μ¤‘μ§€                           β”‚
β”‚  β””β”€ λ³΄μ• μ΄μ μμ‹¬ β†’ API ν‚¤ μ¦‰μ‹ κµμ²΄                         β”‚
β”‚                                                              β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## 10. κ°λ° λ΅λ“λ§µ

### Phase 1: Foundation (κΈ°λ° κµ¬μ¶•)
- [ ] ν”„λ΅μ νΈ μ΄κΈ° μ„¤μ • (Poetry, λ””λ ‰ν† λ¦¬ κµ¬μ΅°)
- [ ] ν•µμ‹¬ λ°μ΄ν„° λ¨λΈ μ •μ (Pydantic)
- [ ] μ΄λ²¤νΈ λ²„μ¤ κµ¬ν„
- [ ] λ΅κΉ… μ‹μ¤ν… κµ¬μ¶•

### Phase 2: Data Pipeline (λ°μ΄ν„° νμ΄ν”„λΌμΈ)
- [ ] REST API λ°μ΄ν„° μμ§‘κΈ°
- [ ] WebSocket μ‹¤μ‹κ°„ μ¤νΈλ¦Ό
- [ ] SQLite Hot Storage
- [ ] Parquet Cold Storage

### Phase 3: Strategy Engine (μ „λµ μ—”μ§„)
- [ ] BaseStrategy μΈν„°νμ΄μ¤
- [ ] μ§€ν‘ λΌμ΄λΈλ¬λ¦¬ λνΌ
- [ ] λ°±ν…μ¤ν… ν™κ²½ κµ¬μ¶•
- [ ] μ²« λ²μ§Έ μ „λµ κµ¬ν„

### Phase 4: Execution System (μ‹¤ν–‰ μ‹μ¤ν…)
- [ ] Portfolio Manager
- [ ] Risk Manager
- [ ] Order Management System
- [ ] κ±°λμ† μ»¤λ„¥ν„°

### Phase 5: Operations (μ΄μ)
- [ ] Docker μ»¨ν…μ΄λ„ν™”
- [ ] λ¨λ‹ν„°λ§ λ€μ‹λ³΄λ“
- [ ] μ•λ¦Ό μ‹μ¤ν…
- [ ] λ°°ν¬ μλ™ν™”

### Phase 6: Enhancement (κ³ λ„ν™”)
- [ ] λ‹¤μ¤‘ μ „λµ λ™μ‹ μ΄μ
- [ ] μ¶”κ°€ κ±°λμ† μ§€μ›
- [ ] μ„±κ³Ό λ¶„μ„ λ¦¬ν¬νΈ
- [ ] ML κΈ°λ° μ „λµ μ—°κµ¬

---

## π“ λ¬Έμ„ μ΄λ ¥

| λ²„μ „ | λ‚ μ§ | μ‘μ„±μ | λ³€κ²½ λ‚΄μ© |
|------|------|--------|----------|
| 1.0.0 | 2026-01-25 | - | μ΄κΈ° μ„¤κ³„ λ¬Έμ„ μ‘μ„± |

---

## π“ μ°Έκ³  μλ£

- [ccxt Documentation](https://docs.ccxt.com/)
- [pandas-ta Documentation](https://github.com/twopirllc/pandas-ta)
- [vectorbt Documentation](https://vectorbt.dev/)
- [Binance API Documentation](https://binance-docs.github.io/apidocs/)

---

> **Disclaimer:** μ΄ ν”„λ΅μ νΈλ” κµμ΅ λ° μ—°κµ¬ λ©μ μΌλ΅ κ°λ°λμ—μµλ‹λ‹¤. μ•”νΈν™”ν κ±°λλ” λ†’μ€ μ„ν—μ„ μλ°ν•λ©°, μ‹¤μ  ν¬μ κ²°μ •μ€ λ³ΈμΈμ νλ‹¨κ³Ό μ±…μ„ ν•μ— μ΄λ£¨μ–΄μ Έμ•Ό ν•©λ‹λ‹¤.
