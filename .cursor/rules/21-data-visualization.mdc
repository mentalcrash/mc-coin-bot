---
description: Data Visualization & Dashboarding Standards (Plotly, Streamlit, Lightweight Charts)
globs: **/viz/*.py, **/dashboard/*.py, **/analysis/*.py
alwaysApply: false
---

# ğŸ“Š Modern Data Visualization Standards (2026)

## 1. Primary Visualization Engine: Plotly
- **Interactive First:** ë°ì´í„° ë¶„ì„ ì‹œ `matplotlib`ì´ë‚˜ `seaborn` ê°™ì€ ì •ì (Static) ì´ë¯¸ì§€ëŠ” ì—°êµ¬ìš©(Research) ë…¸íŠ¸ë¶ì—ë§Œ ì œí•œì ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.
- **Standard Lib:** ëª¨ë“  ë¶„ì„ ì°¨íŠ¸ëŠ” **`plotly.graph_objects`** ë˜ëŠ” **`plotly.express`**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- **VectorBT Integration:** `vbt`ì˜ ë‚´ì¥ í”Œë¡œíŒ… ê¸°ëŠ¥(`vbt.Portfolio.plot()`)ì„ ì ê·¹ í™œìš©í•˜ë©°, ì´ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Plotlyë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

## 2. Trading Specific Charts: Lightweight Charts
- **High Performance:** ëŒ€ëŸ‰ì˜ ìº”ë“¤ìŠ¤í‹±(Candlestick) ë°ì´í„°ë‚˜ ì‹¤ì‹œê°„ ì‹œì„¸ ìŠ¤íŠ¸ë¦¬ë°ì„ ì‹œê°í™”í•  ë•ŒëŠ” **`lightweight-charts`** (Python Wrapper)ë¥¼ ìš°ì„  ê³ ë ¤í•©ë‹ˆë‹¤.
    - ì´ìœ : Plotlyë³´ë‹¤ ë Œë”ë§ ì†ë„ê°€ ë¹ ë¥´ê³  TradingViewì™€ ë™ì¼í•œ UXë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- **Usage:** ì£¼ë¡œ ì‹¤ì‹œê°„ ë´‡ì˜ ìƒíƒœ ëª¨ë‹ˆí„°ë§ì´ë‚˜ ì •ë°€í•œ ì§„ì…/ì²­ì‚° íƒ€ì  ë¶„ì„ ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.

## 3. Dashboarding Framework: Streamlit
- **Single Page App:** íŠ¸ë ˆì´ë”© ë´‡ì˜ ê´€ì œ ì‹œìŠ¤í…œ(Admin)ì€ **`streamlit`**ìœ¼ë¡œ êµ¬ì¶•í•©ë‹ˆë‹¤.
- **Layout:** `st.columns`, `st.tabs`, `st.expander`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ë³´ë¥¼ êµ¬ì¡°í™”í•©ë‹ˆë‹¤.
- **Real-time:** ë°ì´í„° ê°±ì‹ ì´ í•„ìš”í•œ ê²½ìš° `st.empty()`ì™€ `time.sleep()` ë£¨í”„ë³´ë‹¤ëŠ”, `st.rerun()` ë˜ëŠ” `streamlit-autorefresh` ì»´í¬ë„ŒíŠ¸ë¥¼ í™œìš©í•©ë‹ˆë‹¤.

## 4. Color & Style Scheme
- **Theme:** ì•”í˜¸í™”í íŠ¸ë ˆì´ë”©ì˜ í‘œì¤€ì¸ **Dark Mode**ë¥¼ ê¸°ë³¸ìœ¼ë¡œ í•©ë‹ˆë‹¤.
- **Colors:**
    - **Up/Buy:** Green (`#26a69a` / `#00C853`)
    - **Down/Sell:** Red (`#ef5350` / `#D50000`)
    - **Text:** White/Light Grey (`#E0E0E0`)

## 5. Example Pattern

### âœ… Good (Streamlit + Plotly)
```python
import streamlit as st
import plotly.graph_objects as go
from plotly.subplots import make_subplots

def render_dashboard(df):
    st.set_page_config(layout="wide", page_title="Crypto Bot Dashboard")
    
    # 1. KPI Metrics
    c1, c2, c3 = st.columns(3)
    c1.metric("Total PnL", "$1,205", "+5.2%")
    
    # 2. Interactive Chart (Plotly)
    fig = make_subplots(rows=2, cols=1, shared_xaxes=True, vertical_spacing=0.03)
    
    # Candlestick
    fig.add_trace(go.Candlestick(
        x=df.index, open=df['open'], high=df['high'],
        low=df['low'], close=df['close'], name='OHLC'
    ), row=1, col=1)
    
    # Volume
    fig.add_trace(go.Bar(x=df.index, y=df['volume'], name='Volume'), row=2, col=1)
    
    fig.update_layout(height=800, template="plotly_dark")
    st.plotly_chart(fig, use_container_width=True)

```

### âŒ Bad (Static Matplotlib)

```python
import matplotlib.pyplot as plt
import streamlit as st

def render_old_style(df):
    # Interactive í•˜ì§€ ì•ŠìŒ, í™•ëŒ€/ì¶•ì†Œ ë¶ˆê°€
    fig, ax = plt.subplots()
    ax.plot(df.index, df['close'])
    st.pyplot(fig) # Not recommended for financial dashboard

```