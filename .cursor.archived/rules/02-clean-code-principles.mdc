---
description: Universal Clean Code & Software Architecture Principles (2026 Edition)
globs: *
alwaysApply: true
---

# ðŸ’Ž Universal Clean Code Principles (2026)

## 1. Cognitive Load over Dogma
- **Locality of Behavior (LoB):** ì½”ë“œë¥¼ ì½ì„ ë•Œ, í•´ë‹¹ ì½”ë“œì˜ ë™ìž‘ì„ ì´í•´í•˜ê¸° ìœ„í•´ ë‹¤ë¥¸ íŒŒì¼ì´ë‚˜ í•¨ìˆ˜ë¥¼ ê³„ì† ì°¾ì•„ë³´ê²Œ ë§Œë“¤ì§€ ë§ˆì‹­ì‹œì˜¤.
    - ë¬´ë¦¬í•œ DRY(Don't Repeat Yourself) ì ìš©ìœ¼ë¡œ ì½”ë“œê°€ ê¼¬ì´ëŠ” ê²ƒë³´ë‹¤, ì•½ê°„ì˜ ì¤‘ë³µì´ ìžˆë”ë¼ë„ **íë¦„ì´ í•œëˆˆì— ë³´ì´ëŠ” ì½”ë“œ(WET)**ê°€ ë‚«ìŠµë‹ˆë‹¤.
- **Deep Modules:** ì¸í„°íŽ˜ì´ìŠ¤ëŠ” ë‹¨ìˆœí•˜ê²Œ, êµ¬í˜„ì€ ê¹Šê²Œ ë§Œë“­ë‹ˆë‹¤. ìˆ˜ë§Žì€ ì–•ì€ í•¨ìˆ˜(Shallow Functions)ë¡œ ë¡œì§ì„ íŒŒíŽ¸í™”í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.

## 2. Naming as Documentation
- **S.I.D (Short, Intuitive, Descriptive):**
    - **Scope Rule:** ë³€ìˆ˜ì˜ ìœ íš¨ ë²”ìœ„(Scope)ê°€ ì¢ìœ¼ë©´ ì´ë¦„ì€ ì§§ì•„ë„ ë˜ì§€ë§Œ(`i`, `x`), ì „ì—­ì ì´ê±°ë‚˜ ê³µê°œëœ ì¸í„°íŽ˜ì´ìŠ¤ë¼ë©´ ì´ë¦„ì€ êµ¬ì²´ì ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
- **No Generic Names:** `Manager`, `Handler`, `Processor`, `Data` ê°™ì€ ëª¨í˜¸í•œ ë‹¨ì–´ ì‚¬ìš©ì„ ê¸ˆì§€í•©ë‹ˆë‹¤.
    - âŒ `DataManager` -> âœ… `OrderRepository`, `PriceCalculator`
- **Unit Inclusion:** ì‹œê°„ì´ë‚˜ ë‹¨ìœ„ë¥¼ ë‹¤ë£¨ëŠ” ë³€ìˆ˜ëª…ì—ëŠ” ë‹¨ìœ„ë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤.
    - âŒ `timeout` -> âœ… `timeout_ms`, `timeout_sec`

## 3. Structural Integrity (SOLID 2.0)
- **Single Responsibility (SRP):** "í•¨ìˆ˜ëŠ” í•œ ê°€ì§€ ì¼ë§Œ í•´ì•¼ í•œë‹¤"ëŠ” ëª¨í˜¸í•œ ì •ì˜ ëŒ€ì‹ , **"ì•¡í„°(Actor)ì˜ ë³€ê²½ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì€ í•˜ë‚˜ì—¬ì•¼ í•œë‹¤"**ëŠ” ì›ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.
- **Composition over Inheritance:** ìƒì†(Inheritance)ì€ ê²°í•©ë„ë¥¼ ë†’ìž…ë‹ˆë‹¤. ê¸°ëŠ¥ì„ í™•ìž¥í•  ë•ŒëŠ” ë°˜ë“œì‹œ **ì¡°í•©(Composition)**ì´ë‚˜ **ì¸í„°íŽ˜ì´ìŠ¤ ìœ„ìž„(Delegation)**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- **Dependency Injection:** ì™¸ë¶€ ì‹œìŠ¤í…œ(DB, API, Time)ì€ ë‚´ë¶€ì—ì„œ ì§ì ‘ ìƒì„±í•˜ì§€ ë§ê³ , ì™¸ë¶€ì—ì„œ ì£¼ìž…ë°›ë„ë¡ ì„¤ê³„í•˜ì—¬ í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ì„ í™•ë³´í•©ë‹ˆë‹¤.

## 4. State Management
- **Immutability First:** ë°ì´í„°ëŠ” ìƒì„± í›„ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ê²ƒ(Immutable)ì„ ê¸°ë³¸ìœ¼ë¡œ í•©ë‹ˆë‹¤. ìƒíƒœ ë³€ê²½ì€ ë¶€ìž‘ìš©(Side-effect)ì„ ë‚³ê³  ë²„ê·¸ì˜ ì˜¨ìƒì´ ë©ë‹ˆë‹¤.
- **Fail Fast:** ìž˜ëª»ëœ ìž…ë ¥ì´ë‚˜ ìƒíƒœê°€ ê°ì§€ë˜ë©´, ì–µì§€ë¡œ ìˆ˜í–‰í•˜ë ¤ í•˜ì§€ ë§ê³  ì¦‰ì‹œ ì—ëŸ¬ë¥¼ ë°œìƒì‹œì¼œ ë¬¸ì œë¥¼ ì¡°ê¸°ì— ë“œëŸ¬ëƒ…ë‹ˆë‹¤.

## 5. The "Delete" Mindset (YAGNI)
- **You Aren't Gonna Need It:** "ë‚˜ì¤‘ì— í•„ìš”í•  ê²ƒ ê°™ì•„ì„œ" ìž‘ì„±í•œ ì½”ë“œëŠ” 100% ê¸°ìˆ  ë¶€ì±„ê°€ ë©ë‹ˆë‹¤. í˜„ìž¬ ìš”êµ¬ì‚¬í•­ì— í•„ìš”í•œ ì½”ë“œë§Œ ìž‘ì„±í•˜ì‹­ì‹œì˜¤.
- **Dead Code:** ì£¼ì„ ì²˜ë¦¬ëœ ì½”ë“œë‚˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ëŠ” ë°œê²¬ ì¦‰ì‹œ ì‚­ì œí•©ë‹ˆë‹¤. (Gitì´ ê¸°ì–µí•˜ê³  ìžˆìŠµë‹ˆë‹¤)
- **No Backward Compatibility Layers:** ì½”ë“œ ìˆ˜ì • ì‹œ í•˜ìœ„í˜¸í™˜ì„ ìœ„í•œ ì½”ë“œë¥¼ ë‚¨ê¸°ì§€ ì•ŠìŠµë‹ˆë‹¤. `@deprecated` ë°ì½”ë ˆì´í„°, êµ¬ë²„ì „ìš© ëž˜í¼, alias, í˜¸í™˜ì„± ë¶„ê¸° ë“±ì€ ìœ ì§€í•˜ì§€ ì•Šê³ , í•­ìƒ **ì „ì²´ì ì¸ ìˆ˜ì •(Full Refactor)**ì„ ì§€í–¥í•©ë‹ˆë‹¤. Gitì´ ì´ì „ ë²„ì „ì„ ë³´ê´€í•˜ë¯€ë¡œ, í•„ìš” ì‹œ ê³¼ê±° ì½”ë“œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

## 6. AI-Readability
- **Context is King:** AIê°€ íŒŒì¼ í•˜ë‚˜ë§Œ ì½ì–´ë„ ë¬¸ë§¥ì„ íŒŒì•…í•  ìˆ˜ ìžˆë„ë¡, ì˜ì¡´ì„±ì´ë‚˜ ì„¤ì •ê°’ì´ ë„ˆë¬´ ì•”ì‹œì (Implicit)ì´ì§€ ì•Šê²Œ ìž‘ì„±í•©ë‹ˆë‹¤. ë§¤ì§ ë„˜ë²„ë‚˜ í•˜ë“œì½”ë”©ëœ ë¬¸ìžì—´ ëŒ€ì‹  ìƒìˆ˜ë¥¼ í™œìš©í•©ë‹ˆë‹¤.

## 7. Example Pattern

### âœ… Good (High Locality, Explicit)
```python
# [ë‹¨ìœ„ ëª…ì‹œ, ëª…í™•í•œ ì±…ìž„, ë¶ˆë³€ì„±]
class OrderService:
    def __init__(self, exchange_client: ExchangeClient):
        self._exchange = exchange_client

    def place_limit_order(self, symbol: str, price_usd: Decimal, quantity: Decimal) -> OrderID:
        # Guard Clause (Fail Fast)
        if quantity <= 0:
            raise ValueError("Quantity must be positive")

        # ë¡œì§ì´ í•œ ê³³ì— ëª¨ì—¬ìžˆì–´ ì½ê¸° ì‰¬ì›€ (LoB)
        order_payload = {
            "symbol": symbol,
            "price": str(price_usd),
            "qty": str(quantity),
            "type": "LIMIT"
        }
        
        return self._exchange.send(order_payload)

```

### âŒ Bad (Fragmented, Generic)

```python
class DataManager: # ëª¨í˜¸í•œ ì´ë¦„
    def process(self, d): # dê°€ ë¬´ì—‡ì¸ì§€ ëª¨ë¦„
        self.validate(d)
        self.calc(d) # ë‚´ë¶€ì—ì„œ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŒ
        return self.save(d)
    
    # ë„ˆë¬´ ìž˜ê²Œ ìª¼ê°œì ¸ì„œ ì „ì²´ íë¦„ì„ íŒŒì•…í•˜ë ¤ë©´ ì í”„í•´ì•¼ í•¨
    def validate(self, d): ...
    def calc(self, d): ...
    def save(self, d): ...

```