# TSMOM 멀티에셋 확장 (Multi-Asset TSMOM)

**분석 일자:** 2026-02-06
**상태:** ✅ 채택 (최종 포트폴리오 전략)
**데이터:** 8개 에셋 × 일봉, 공통 기간 2020-2025 (6년)
**핵심 결론:** 멀티에셋 EW 포트폴리오가 BTC 단독 대비 Sharpe +57%, MDD 43% 감소

## 동기

BTC 단독 TSMOM(Sharpe 1.04)의 한계:
- 2018/2022 하락장에서 -27% 이상 손실
- 단일 에셋 리스크 (특이 이벤트에 취약)
- 학술 연구에서 멀티에셋 모멘텀의 분산 효과 검증됨

**접근법:** 동일한 TSMOM 파라미터(lookback=30, vol_target=0.30)를 다른 에셋에 적용하고, Equal-Weight로 합성하여 분산 효과를 측정.

---

## 에셋 선정

### Tier 1 (핵심 — 개별 TSMOM 검증 완료)

| Asset | 섹터 | 기간 | Return | Sharpe | MDD | 판정 |
|-------|------|------|--------|--------|-----|------|
| BTC | Digital Gold | 2018-2025 | +782% | 1.04 | -43.5% | ✅ 기준선 |
| ETH | Smart Contract | 2018-2025 | +1,067% | 1.16 | -33.2% | ✅ PASS |
| BNB | Exchange Token | 2018-2025 | +1,275% | 1.17 | -39.4% | ✅ PASS |
| SOL | Smart Contract L1 | 2020-2025 | +754% | 1.22 | -29.2% | ✅ PASS |

### Tier 2 (확장 후보 — 분산 효과 검증)

| Asset | 섹터 | 기간 | Return | Sharpe | MDD | 판정 |
|-------|------|------|--------|--------|-----|------|
| DOGE | Meme | 2019-2025 | +1,103% | 1.07 | -33.1% | ✅ PASS |
| LINK | Oracle/DeFi | 2019-2025 | +393% | 0.88 | -48.2% | ✅ PASS |
| ADA | Smart Contract L1 | 2018-2025 | +518% | 0.88 | -47.2% | ✅ PASS |
| AVAX | Smart Contract L1 | 2020-2025 | +292% | 0.87 | -56.2% | ✅ PASS |

**Tier 2 전원 통과** (기준: Sharpe >= 0.5, MDD > -60%).
DOGE가 Sharpe 1.07로 Tier 2 최우수. AVAX는 MDD -56.2%로 경계 수준.

### 탈락 에셋

| Asset | Sharpe | MDD | 탈락 사유 |
|-------|--------|-----|----------|
| XRP | 0.35 | -65.8% | Sharpe 0.5 미만, MDD 60% 초과. 추세 추종이 작동하지 않는 구조 |

---

## 상관 행렬 (전략 수익률, 2020-2025)

```
        BTC    ETH    BNB    SOL   DOGE   LINK    ADA   AVAX
BTC   1.000  0.543  0.338  0.297  0.266  0.253  0.306  0.274
ETH   0.543  1.000  0.474  0.258  0.243  0.381  0.357  0.273
BNB   0.338  0.474  1.000  0.225  0.197  0.294  0.291  0.280
SOL   0.297  0.258  0.225  1.000  0.185  0.167  0.267  0.362
DOGE  0.266  0.243  0.197  0.185  1.000  0.203  0.286  0.182
LINK  0.253  0.381  0.294  0.167  0.203  1.000  0.351  0.270
ADA   0.306  0.357  0.291  0.267  0.286  0.351  1.000  0.350
AVAX  0.274  0.273  0.280  0.362  0.182  0.270  0.350  1.000
```

| 지표 | 4-asset (Tier 1) | 8-asset (Tier 1+2) | 해석 |
|------|:---:|:---:|------|
| 평균 pairwise 상관 | 0.353 | **0.292** | 8-asset이 더 낮은 상관 |
| 분산 효과 기대 | 우수 (< 0.6) | **매우 우수** (< 0.3) | Tier 2 추가로 개선 |

**Tier 2 → Tier 1 평균 상관:**
- DOGE vs Tier1: **0.223** (분산 기여 최대)
- LINK vs Tier1: 0.274
- AVAX vs Tier1: 0.297
- ADA vs Tier1: 0.305

---

## 포트폴리오 합성 결과 (EW, 2020-2025)

| Portfolio | Return | CAGR | Sharpe | Sortino | MDD | AnnVol | Calmar |
|-----------|--------|------|--------|---------|-----|--------|--------|
| BTC 단독 | +606% | +38.5% | 1.26 | 1.93 | -35.4% | 30.5% | 1.09 |
| **T1 EW (4)** | +785% | +43.8% | **1.89** | 2.77 | -21.8% | 23.1% | 2.01 |
| **T1+T2 EW (8)** | +677% | +40.7% | **1.98** | **2.91** | **-20.2%** | **20.5%** | **2.02** |

**분산 효과 분석:**

| 지표 | BTC 단독 → T1 (4) | T1 (4) → T1+T2 (8) | 전체 개선 |
|------|:---:|:---:|:---:|
| Sharpe | 1.26 → 1.89 (+50%) | 1.89 → 1.98 (+5%) | **+57%** |
| MDD | -35.4% → -21.8% | -21.8% → -20.2% | **43% 감소** |
| AnnVol | 30.5% → 23.1% | 23.1% → 20.5% | **33% 감소** |
| Calmar | 1.09 → 2.01 | 2.01 → 2.02 | **+85%** |

**핵심 발견:** 4→8 에셋 확장의 한계 수익은 작지만 (Sharpe +5%), 여전히 모든 지표에서 개선. 가장 큰 점프는 1→4 에셋 (Sharpe +50%).

### 연도별 Sharpe Ratio

| Year | BTC | T1 EW (4) | T1+T2 EW (8) |
|------|:---:|:---:|:---:|
| 2020 | 3.80 | 1.77 | 2.57 |
| 2021 | 1.25 | 5.47 | **6.82** |
| 2022 | -0.78 | **0.42** | -0.43 |
| 2023 | 2.46 | 2.04 | 2.20 |
| 2024 | 1.20 | 1.17 | 1.59 |
| 2025 | 0.58 | 1.24 | 0.73 |

**2022년 하락장 주의:**
- T1 EW (4): **+0.42** (양수 유지)
- T1+T2 EW (8): **-0.43** (음수 전환)
- 원인: LINK(Sharpe 0.75), ADA(1.02), AVAX(0.80)가 2022년 약세장에서 Tier 1보다 더 큰 손실
- **시사점:** 하락장 방어력을 중시하면 4-asset(Tier 1)이 더 안전

---

## 레버리지 평가

vol_target=0.30 고정, max_leverage_cap만 변경하여 8-asset EW 포트폴리오 테스트.

| Leverage Cap | Sharpe | CAGR | MDD | AnnVol | Calmar |
|:---:|:---:|:---:|:---:|:---:|:---:|
| 1.0x | 1.97 | +40.4% | -20.2% | 20.5% | 2.00 |
| 1.5x | 1.98 | +40.7% | -20.2% | 20.5% | 2.02 |
| **2.0x** | **1.98** | **+40.7%** | **-20.2%** | **20.5%** | **2.02** |
| 2.5x | 1.98 | +40.7% | -20.2% | 20.5% | 2.02 |
| 3.0x | 1.98 | +40.7% | -20.2% | 20.5% | 2.02 |

**핵심 발견: 레버리지 효과 거의 없음.**

- **원인:** vol_target(0.30)이 실제 포지션 크기를 결정. 실현 변동성이 높으면 포지션을 자동 축소하고, 낮으면 확대하되 대부분 1.5x 이내에서 동작
- 1.0x에서만 일부 시그널 캡핑 발생 (BTC 85개, BNB 77개)
- 1.5x 이상에서는 vol_target이 자연스럽게 제어 → max_leverage_cap이 거의 바인딩되지 않음
- **결론:** max_leverage_cap=2.0x 유지 (안전 마진 + 실질적 차이 없음)

**실질 레버리지를 변경하려면?**
max_leverage_cap이 아닌 `vol_target`을 조절해야 함 (기존 [tsmom.md](tsmom.md)의 "레버리지 조절" 참조).

---

## vol_target × max_leverage_cap 파라미터 스윕

**데이터:** 8-asset EW, 2020-01-01 ~ 2025-12-31 (6년, 2,192일)
**그리드:** vol_target 8개 × leverage_cap 5개 = 40조합 × 8에셋 = 320 백테스트

### 핵심 발견: leverage_cap은 무의미, vol_target이 전부

모든 vol_target 수준에서 leverage_cap 1.0x→3.0x 변경 시 성과 차이가 **거의 없음**.
vol_target이 실제 포지션 크기를 결정하고, 멀티에셋 EW에서 개별 가중치가 1/8이라 cap에 도달하는 경우가 극히 드뭄.

### Sharpe Ratio (vol_target × leverage_cap)

| vol_target | 1.0x | 1.5x | 2.0x | 2.5x | 3.0x |
|:---:|:---:|:---:|:---:|:---:|:---:|
| 0.15 | 1.95 | 1.95 | 1.95 | 1.95 | 1.95 |
| **0.20** | **2.07** | **2.07** | **2.07** | **2.07** | **2.07** |
| 0.25 | 2.01 | 2.02 | 2.02 | 2.02 | 2.02 |
| 0.30 | 1.97 | 1.98 | 1.98 | 1.98 | 1.98 |
| **0.35** | 2.04 | 2.05 | **2.06** | **2.06** | **2.06** |
| 0.40 | 2.04 | 2.02 | 2.03 | 2.03 | 2.03 |
| 0.45 | 1.99 | 1.95 | 1.96 | 1.97 | 1.97 |
| 0.50 | 2.00 | 1.95 | 1.96 | 1.97 | 1.97 |

**Sharpe가 1.95~2.07 범위로 매우 안정적** — 전략의 실질 alpha가 견고함을 확인.

### vol_target별 성과 비교 (leverage_cap=2.0x 고정)

| vol_target | Sharpe | CAGR | MDD | AnnVol | Calmar | Sortino | 총수익 |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| 0.15 | 1.95 | +22.2% | -10.4% | 11.4% | 2.14 | 2.88 | +234% |
| **0.20** | **2.07** | +29.9% | **-13.4%** | 14.4% | **2.24** | **3.11** | +381% |
| 0.25 | 2.02 | +34.8% | -17.1% | 17.2% | 2.04 | 2.97 | +479% |
| 0.30 _(기존)_ | 1.98 | +40.6% | -20.2% | 20.5% | 2.01 | 2.90 | +677% |
| **0.35** | **2.06** | +48.8% | -23.5% | 23.7% | 2.08 | 3.03 | +984% |
| 0.40 | 2.03 | +53.8% | -26.6% | 26.5% | 2.02 | 2.99 | +1,250% |
| 0.45 | 1.96 | +57.8% | -30.6% | 29.4% | 1.88 | 2.88 | +1,497% |
| 0.50 | 1.96 | +63.3% | -33.9% | 32.3% | 1.86 | 2.87 | +1,838% |

**핵심 관찰:**
- **Sharpe 이중 극대점:** vol_target=0.20 (Sharpe 2.07)과 0.35 (Sharpe 2.06)에서 두 개의 정상
- **기존 0.30은 약간 열등:** Sharpe 1.98로 두 극대점보다 낮은 "valley"에 위치
- **MDD는 vol_target에 비례:** 0.15의 -10.4% → 0.50의 -33.9%로 선형 증가
- **Calmar 최적:** vol_target=0.20 (Calmar 2.24) — 리스크 대비 수익 최고

### 운영 설정 선택지

| 옵션 | vol_target | Sharpe | CAGR | MDD | 적합 대상 |
|------|:---:|:---:|:---:|:---:|------|
| A. 보수적 | 0.20 | **2.07** | +29.9% | **-13.4%** | 드로다운 민감, 자본 보존 우선 |
| ✅ **B. 균형 (확정)** | **0.35** | **2.06** | **+48.8%** | **-23.5%** | **Sharpe 유지 + CAGR 극대화** |
| ~~C. 기존 유지~~ | 0.30 | 1.98 | +40.6% | -20.2% | 변경 없음 |
| D. 공격적 | 0.50 | 1.96 | +63.3% | -33.9% | 높은 MDD 감수, 수익 극대화 |

**확정:** 옵션 B (vol_target=0.35)
- 기존 0.30 대비: Sharpe +4% (1.98→2.06), CAGR +20% (40.6%→48.8%), MDD 소폭 확대 (-20.2%→-23.5%)
- 옵션 A(0.20) 대비: Sharpe 동등 (2.06 vs 2.07), CAGR +63% (29.9%→48.8%)

### 교훈

1. **Sharpe 안정성이 전략 견고성의 증거**
   - vol_target 0.15~0.50 전체 범위에서 Sharpe 1.95~2.07 (변동폭 6%)
   - 전략의 alpha가 레버리지에 독립적이라는 것을 확인
   - 즉, vol_target으로 수익-리스크 트레이드오프만 조절하는 것

2. **leverage_cap 조절은 완전히 무의미**
   - 40개 조합에서 leverage_cap 변경으로 인한 Sharpe 차이: 최대 0.04
   - max_leverage_cap=2.0x는 순수 안전장치로만 유지

3. **vol_target 0.25~0.30 구간이 상대적 저점**
   - "당연히 중간이 최적"이라는 가정이 틀림
   - 0.20과 0.35가 local optima → 중간은 오히려 suboptimal

---

## 타임프레임 분석 (4h / 8h / 12h / 1D)

**데이터:** 8-asset EW, 2020-01-01 ~ 2025-12-31
**그리드:** 4 타임프레임 × 6 시간수평선(7d~60d) × 8 에셋 = 192 백테스트
**고정:** vol_target=0.35, max_leverage_cap=2.0x

### 설계: 시간수평선 기반 lookback 환산

동일한 시간 수평선(일)을 각 타임프레임의 캔들 수로 환산하여 공정 비교:

| 시간수평선 | 4h (×6/day) | 8h (×3/day) | 12h (×2/day) | 1D (×1/day) |
|:---:|:---:|:---:|:---:|:---:|
| 7일 | 42 | 21 | 14 | 7 |
| 14일 | 84 | 42 | 28 | 14 |
| 21일 | 126 | 63 | 42 | 21 |
| 30일 | 180 | 90 | 60 | 30 |
| 45일 | 270 | 135 | 90 | 45 |
| 60일 | 360 | 180 | 120 | 60 |

### 핵심 결과: 1D가 모든 지표에서 최우수

#### Sharpe Ratio 히트맵 (TF × 시간수평선)

| TF | 7d | 14d | 21d | **30d** | 45d | 60d |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| 4h | 1.07 | 1.47 | 1.38 | 1.83 | 0.99 | 1.33 |
| 8h | 0.93 | 1.36 | 1.43 | 1.99 | 0.93 | 1.22 |
| 12h | 0.89 | 1.36 | 1.35 | 2.03 | 1.02 | 1.17 |
| **1D** | -0.25 | 1.44 | 1.09 | **2.06** | 0.95 | 1.28 |

#### Calmar Ratio 히트맵 (TF × 시간수평선)

| TF | 7d | 14d | 21d | **30d** | 45d | 60d |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| 4h | 0.99 | 1.39 | 0.99 | 1.48 | 0.65 | 1.04 |
| 8h | 1.05 | 1.30 | 1.11 | 1.86 | 0.59 | 0.87 |
| 12h | 1.05 | 1.29 | 1.01 | 1.79 | 0.89 | 0.87 |
| **1D** | -0.32 | 1.30 | 0.79 | **2.08** | 0.70 | 0.96 |

#### 타임프레임별 최적 설정 (30일 수평선)

| TF | Lookback | Sharpe | CAGR | MDD | AnnVol | Calmar | Sortino | 총수익 |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| 4h | 180 | 1.83 | +41.7% | -28.1% | 22.8% | 1.48 | 2.88 | +712% |
| 8h | 90 | 1.99 | +47.3% | -25.5% | 23.7% | 1.86 | 3.06 | +923% |
| 12h | 60 | 2.03 | +47.5% | -26.5% | 23.4% | 1.79 | 3.05 | +932% |
| **1D** | **30** | **2.06** | **+48.7%** | **-23.5%** | 23.7% | **2.08** | 3.03 | **+984%** |

### 5대 발견

**1. 30일 시간수평선이 모든 TF에서 보편적 최적**
- 4개 타임프레임 모두 30d 수평선에서 최고 Sharpe 달성
- 이는 BTC/암호화폐 시장의 **월간 모멘텀 사이클**과 일치
- 7d는 노이즈, 45d/60d는 과도한 지연

**2. 1D > 12h > 8h > 4h 단조 순서 (30d 기준)**
- Sharpe: 2.06 > 2.03 > 1.99 > 1.83
- CAGR: +48.7% > +47.5% > +47.3% > +41.7%
- MDD: -23.5% > -26.5% > -25.5% > -28.1%
- **서브데일리 노이즈가 추세 추종 시그널을 악화시킴**

**3. 1D lookback=7은 치명적 (Sharpe -0.25, MDD -94%)**
- 7일 모멘텀은 일봉에서 순수 노이즈
- 하지만 4h/7d(42캔들)는 Sharpe 1.07로 양수 → 더 많은 데이터포인트가 노이즈를 상쇄

**4. 에셋별로는 최적 TF가 다름 (개별 vs 포트폴리오)**
- SOL: 8h/30d 최적 (Sharpe 1.53)
- DOGE: 4h/21d 최적 (Sharpe 1.52)
- BTC: 12h/30d 최적 (Sharpe 1.36)
- **하지만 포트폴리오 레벨에서는 1D가 분산 효과를 극대화**

**5. AnnVol은 TF에 독립적 (~23%)**
- 모든 TF/수평선 조합에서 AnnVol 22~25% 범위
- vol_target=0.35이 실질 변동성을 일정하게 유지

### 결론

✅ **1D 타임프레임 확정** — 모든 지표에서 최우수, 추가 최적화 불필요

| 항목 | 확정 값 | 근거 |
|------|---------|------|
| 타임프레임 | **1D** | Sharpe 2.06, 4개 TF 중 최고 |
| 시간수평선 | **30일** | 모든 TF에서 보편적 최적 |
| lookback | **30** (캔들) | 1D × 30일 |
| vol_window | **30** | lookback과 동일 |

서브데일리(4h~12h) 전환 시:
- Sharpe 최대 -11% 하락 (2.06→1.83)
- MDD 최대 +20% 악화 (-23.5%→-28.1%)
- CAGR 최대 -14% 감소 (+48.7%→+41.7%)
- **비용(거래 빈도 증가)까지 감안하면 격차는 더 확대**

---

## 결론 및 의사결정

| 질문 | 답변 |
|------|------|
| Tier 2 추가 가치? | **있음** — Sharpe 1.89→1.98, MDD -21.8%→-20.2% |
| 최적 에셋 구성? | ✅ **8-asset (Tier 1 + Tier 2) 확정** |
| 최적 레버리지? | max_leverage_cap **2.0x** 유지 (vol_target이 실질 레버리지 제어) |
| 최적 vol_target? | ✅ **0.35 (균형) 확정** — Sharpe 2.06, CAGR +48.8%, MDD -23.5% |
| 리밸런싱? | 미검증 — 일간 vs 주간 비교 필요 |

**포트폴리오 구성: 8-asset EW 확정**

BTC + ETH + BNB + SOL + DOGE + LINK + ADA + AVAX (Equal-Weight)

## 교훈 (Lessons Learned)

1. **분산의 수확 체감 법칙**
   - 1→4 에셋: Sharpe +50% (큰 점프)
   - 4→8 에셋: Sharpe +5% (작은 개선)
   - 에셋 수 자체보다 **상관이 낮은 에셋 선택**이 핵심

2. **BTC 파라미터의 범용성**
   - lookback=30, vol_target=0.30이 8개 에셋 모두에서 Sharpe > 0.85 달성
   - 에셋별 최적화 없이도 작동 → 과적합 리스크 낮음

3. **max_leverage_cap vs vol_target**
   - max_leverage_cap은 안전장치일 뿐, 실질 레버리지는 vol_target이 결정
   - 멀티에셋 EW에서 개별 에셋 가중치가 1/N로 작아져 레버리지 캡이 더 안 바인딩

4. **하락장에서 Tier 2의 약점**
   - 소형 알트코인은 약세장에서 BTC보다 큰 손실
   - 2022년: T1 EW +0.42 vs T1+T2 EW -0.43
   - 공격적 구성 선택 시 하락장 리스크 인지 필요
