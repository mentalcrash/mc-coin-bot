# BB+RSI Mean Reversion

**평가 일자:** 2026-02-06
**상태:** ⚠️ 보류 (단독 운영 부적합, 분산 효과용으로만 가치)
**테스트 기간:** 2018-01-01 ~ 2025-12-31 (8년)

> 교차 전략 분석(TSMOM + BB+RSI)은 [cross-strategy.md](cross-strategy.md) 참조

## 개요

볼린저밴드 + RSI 기반 평균회귀 전략.
가격이 BB 하단 + RSI 과매도일 때 매수, 상단 + 과매수일 때 매도.
TSMOM의 약점(횡보장)을 보완할 목적으로 개발.

## 최종 설정 (파라미터 스윕 최적)

```python
BBRSIConfig(
    bb_period=20,
    bb_std=2.0,
    rsi_period=14,
    bb_weight=0.7,            # BB 신호 가중치 (RSI보다 안정적)
    rsi_weight=0.3,
    vol_target=0.15,          # 보수적 변동성 타겟
    use_adx_filter=False,     # ADX 필터 OFF가 전 기간 최적
    short_mode=ShortMode.DISABLED,  # Long-only
)
```

## 성과 요약 (8년: 2018-2025)

| 설정 | Return | Sharpe | MDD | Win Rate | CAGR | AnnVol |
|------|--------|--------|-----|----------|------|--------|
| **최적 (위 설정)** | **+4.5%** | **0.11** | **15.8%** | **58.0%** | **+0.5%** | **7.3%** |
| 기본값 (ADX ON) | -0.6% | 0.02 | 15.3% | 55.7% | -0.1% | 5.6% |
| 2023-2025만 (최적) | +13.9% | 0.72 | 5.2% | 60.1% | +13.9% | 7.8% |

### 연도별 성과 (최적 설정)

| 연도 | BTC 레짐 | Sharpe | Return | MDD | Win Rate |
|------|----------|--------|--------|-----|----------|
| 2018 | 하락장 | -0.93 | -8.5% | 11.7% | 57.5% |
| 2019 | 회복 | 0.60 | +4.2% | 5.4% | 60.0% |
| 2020 | COVID+반등 | 0.10 | +0.5% | 9.8% | 47.8% |
| 2021 | 불장+조정 | 0.11 | +0.5% | 6.3% | 48.1% |
| 2022 | 하락장 | -1.03 | -6.8% | 12.1% | 55.0% |
| **2023** | **회복** | **1.14** | **+6.4%** | **4.5%** | **61.0%** |
| 2024 | 불장 | 0.47 | +2.5% | 5.2% | 56.2% |
| 2025 | 혼조 | 0.10 | +0.4% | 4.8% | 56.9% |

## 시도한 것들

### 1. ADX 필터 (추세장 억제) ❌
- **가설:** ADX >= 25일 때 포지션 축소하면 추세장 손실 감소 (TSMOM과 반대 방향)
- **결과:** 2023-2025(불장)에서 포지션 과도 억제, 전체 기간 Sharpe 0.02로 하락
- **결론:** 불장 비중이 43.6%인 BTC에서 추세장 억제는 치명적

```
ADX ON:  8년 Sharpe 0.02, Return -0.6%
ADX OFF: 8년 Sharpe 0.11, Return +4.5%  ← 압도적 우위
```

### 2. 파라미터 스윕 (72개 조합) ✅
- bb_weight 0.3~0.8, vol_target 0.15~0.40, short_mode 0/1/2
- **발견:** Long-only(short_mode=0)가 모든 조합에서 최적
- **발견:** BB weight 0.7 > 0.6 (RSI보다 BB position이 안정적)
- **발견:** 낮은 vol_target(0.15)이 높은 Sharpe 유지

### 3. Short Mode (HEDGE/FULL) ❌
- **결과:** 2018-2025에서 Long-only가 압도적 최적
- **원인:** BTC는 장기적으로 우상향 → 숏은 구조적 역풍

## 전략의 강점

1. **매우 낮은 변동성 (AnnVol 7.3%)**
   - TSMOM(30.7%)의 1/4 수준
   - BTC B&H(65.7%)의 1/9 수준

2. **횡보장에서 유일한 양수 Sharpe (0.83)**
   - TSMOM은 횡보장 Sharpe -1.13
   - 전체 시간의 30.3%가 횡보 → 보완 가치 존재

3. **TSMOM과 음의 상관 (r = -0.265)**
   - 포트폴리오 분산 효과의 핵심 조건 충족
   - 연도별: 2018(-0.53), 2022(-0.39), 2025(-0.50)

## 전략의 한계

1. **단독 alpha 부재 (8년 CAGR +0.5%)**
   - 8년간 거의 제로 수익 → 단독 운영 불가
   - 2023-2025에서 최적화한 파라미터가 2018-2022에서 역효과 (과적합 시그널)

2. **하락장에서 손실 (Long-only dip buying)**
   - 2018: -8.5%, 2022: -6.8%
   - 평균회귀 = 하락 시 매수 → 하락장에서는 "떨어지는 칼 잡기"

3. **낮은 절대 수익**
   - 높은 Win Rate(58%)에도 불구하고 수익 미미
   - 평균 수익 대비 평균 손실 비율이 낮음

## 교훈 (Lessons Learned)

1. **3년 최적화 → 8년 검증에서 실패**
   - 2023-2025 Sharpe 0.72 → 2018-2025 Sharpe 0.11
   - 과적합의 전형적 징후: 짧은 기간 최적화, 긴 기간에서 성능 저하

2. **평균회귀는 BTC 단일 에셋에서 구조적 한계**
   - BTC는 장기 우상향 + 높은 변동성 → 추세 추종이 유리
   - 평균회귀는 변동성 낮은 자산(주가지수, FX)에 더 적합

3. **ADX 필터는 두 전략 모두에서 실패**
   - TSMOM: 횡보 필터 효과 미미
   - BB+RSI: 추세 필터가 오히려 성과 악화
   - BTC의 레짐 분포(Bull 44%, Bear 26%, Sideways 30%)가 균등하지 않아 필터링이 비효율적

4. **분산 효과의 가치**
   - 단독으로 나쁜 전략도 음의 상관이면 포트폴리오에 가치
   - 50/50 합성 Sharpe(1.10) > TSMOM 단독(1.04)
